{"version":3,"sources":["..\\src\\lib\\leaflet\\PublicaMundi.Leaflet.js","..\\src\\lib\\leaflet\\Map.js","..\\src\\lib\\leaflet\\Layer.WMS.js","..\\src\\lib\\leaflet\\Layer.Tile.js","..\\src\\lib\\leaflet\\Layer.GeoJson.js"],"names":[],"mappings":"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","file":"publicamundi.leaflet-src.js","sourcesContent":["(function (window, PublicaMundi) {\r\n\t\"use strict\";\r\n\r\n\tif (typeof PublicaMundi === 'undefined') {\r\n\t\treturn;\r\n\t}\r\n\r\n\tPublicaMundi.define('PublicaMundi.Leaflet');\r\n\r\n\tPublicaMundi.Leaflet.Framework = 'leaflet';\r\n\r\n\tPublicaMundi.registerFrameworkResolver(PublicaMundi.Leaflet.Framework, function () {\r\n\t    if ((PublicaMundi.isObject(L)) && (PublicaMundi.isFunction(L.Map))) {\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t});\r\n\r\n})(window, PublicaMundi);","(function (window, PublicaMundi, L) {\r\n    if (typeof PublicaMundi === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof L === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    PublicaMundi.define('PublicaMundi.Leaflet');\r\n\r\n    PublicaMundi.Leaflet.Map = PublicaMundi.Class(PublicaMundi.Map, {\r\n        initialize: function (options) {\r\n            PublicaMundi.Map.prototype.initialize.call(this, options);\r\n\r\n            this._unproject = function (location) {\r\n                var projected = L.point(location[0], location[1]).divideBy(6378137);\r\n                return L.CRS.EPSG3857.projection.unproject(projected);\r\n            };\r\n\r\n            if ((PublicaMundi.isClass('L.Map')) && (options instanceof L.Map)) {\r\n                this._map = options;\r\n            } else {\r\n                // TODO : Resolve projection\r\n\r\n                this._map = L.map(options.target, {\r\n                    // TODO : Add projection\r\n                    center: this._unproject(options.center),\r\n                    zoom: options.zoom,\r\n                    attributionControl: false\r\n                });\r\n            }\r\n\r\n            if ((typeof options.layers !== 'undefined') && (PublicaMundi.isArray(options.layers))) {\r\n                for (var index = 0; index < options.layers.length; index++) {\r\n                    this.createLayer(options.layers[index]);\r\n\r\n                }\r\n            }\r\n        },\r\n        setCenter: function (x, y) {\r\n            if (PublicaMundi.isArray(x)) {\r\n                this._map.setView(this._unproject(x), this._map.getZoom());\r\n            } else {\r\n                this._map.setView(this._unproject([x, y]), this._map.getZoom());\r\n            }\r\n        },\r\n        getCenter: function () {\r\n            var center = this._map.getCenter();\r\n            center = L.CRS.EPSG3857.projection.project(center).multiplyBy(6378137);\r\n            return [center.x, center.y];\r\n        },\r\n        setZoom: function (z) {\r\n            this._map.setView(this._map.getCenter(), z);\r\n        },\r\n        getZoom: function () {\r\n            return this._map.getZoom();\r\n        },\r\n        getProjection: function () {\r\n            return 'EPSG:3857';\r\n        },\r\n        getTarget: function () {\r\n            return this._map.getTarget();\r\n        },\r\n        addLayer: function (layer) {\r\n            this._map.addLayer(layer.getLayer());\r\n        }\r\n    });\r\n\r\n    PublicaMundi.locator.register('PublicaMundi.Map', PublicaMundi.Leaflet.Map);\r\n})(window, window.PublicaMundi, L);","(function (global, PublicaMundi, L) {\r\n    if (typeof PublicaMundi === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof L === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    PublicaMundi.define('PublicaMundi.Leaflet.Layer');\r\n\r\n    PublicaMundi.Leaflet.Layer.WMS = PublicaMundi.Class(PublicaMundi.Layer, {\r\n        initialize: function (options) {\r\n            PublicaMundi.Layer.prototype.initialize.call(this, options);\r\n\r\n            this._layer = L.tileLayer.wms(options.url, {\r\n                layers: options.params.LAYERS,\r\n                format: 'image/png',\r\n                transparent: true\r\n            });\r\n        }\r\n    });\r\n\r\n    PublicaMundi.registry.registerLayerType({\r\n        layer: PublicaMundi.LayerType.WMS,\r\n        framework: PublicaMundi.Leaflet.Framework,\r\n        type: 'PublicaMundi.Layer.WMS',\r\n        factory: PublicaMundi.Leaflet.Layer.WMS\r\n    });\r\n})(window, window.PublicaMundi, L);","(function (global, PublicaMundi, L) {\r\n    if (typeof PublicaMundi === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof L === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    PublicaMundi.define('PublicaMundi.Leaflet.Layer');\r\n\r\n    PublicaMundi.Leaflet.Layer.Tile = PublicaMundi.Class(PublicaMundi.Layer, {\r\n        initialize: function (options) {\r\n            PublicaMundi.Layer.prototype.initialize.call(this, options);\r\n\r\n            this._layer = L.tileLayer(options.url);\r\n        }\r\n    });\r\n\r\n    PublicaMundi.registry.registerLayerType({\r\n        layer: PublicaMundi.LayerType.TILE,\r\n        framework: PublicaMundi.Leaflet.Framework,\r\n        type: 'PublicaMundi.Layer.Tile',\r\n        factory: PublicaMundi.Leaflet.Layer.Tile\r\n    });\r\n})(window, window.PublicaMundi, L);","(function (global, PublicaMundi, L, $) {\r\n    if (typeof PublicaMundi === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof L === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    PublicaMundi.define('PublicaMundi.Leaflet.Layer');\r\n\r\n    PublicaMundi.Leaflet.Layer.GeoJson = PublicaMundi.Class(PublicaMundi.Layer, {\r\n        initialize: function (options) {\r\n            PublicaMundi.Layer.prototype.initialize.call(this, options);\r\n\r\n            if (!PublicaMundi.isDefined(options.projection)) {\r\n                // TODO : Resolve projection / reproject    \r\n            }\r\n\r\n            var onClick = null;\r\n            if (PublicaMundi.isFunction(options.click)) {\r\n                onClick = function (e) {\r\n                    options.click([e.target.feature.properties]);\r\n                };\r\n            }\r\n            this._layer = L.geoJson(null, {\r\n                style: {\r\n                    color: '#3399CC',\r\n                    weight: 1.25,\r\n                    opacity: 1,\r\n                    fillColor: '#FFFFFF',\r\n                    fillOpacity: 0.4\r\n                }, pointToLayer: function (feature, latlng) {\r\n                    return L.circleMarker(latlng, {\r\n                        radius: 5,\r\n                        fillColor: '#FFFFFF',\r\n                        fillOpacity: 0.4,\r\n                        color: \"#3399CC\",\r\n                        weight: 1.25,\r\n                        opacity: 1\r\n                    });\r\n                }, onEachFeature: function onEachFeature(feature, layer) {\r\n                    if (PublicaMundi.isFunction(onClick)) {\r\n                        layer.on({\r\n                            click: onClick\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: options.url,\r\n                dataType: 'json',\r\n                context: this,\r\n                success: function (response) {\r\n                    this._layer.addData(response);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    PublicaMundi.registry.registerLayerType({\r\n        layer: PublicaMundi.LayerType.GeoJSON,\r\n        framework: PublicaMundi.Leaflet.Framework,\r\n        type: 'PublicaMundi.Layer.GeoJson',\r\n        factory: PublicaMundi.Leaflet.Layer.GeoJson\r\n    });\r\n\r\n    // Add utility methods\r\n    if (PublicaMundi.isDefined(PublicaMundi.Map)) {\r\n        PublicaMundi.Map.prototype.geoJSON = function (options) {\r\n            switch (typeof options) {\r\n\r\n            }\r\n            options.type = options.type || PublicaMundi.LayerType.GeoJSON;\r\n\r\n            this.createLayer(options);\r\n        };\r\n    }\r\n})(window, window.PublicaMundi, L, jQuery);"]}
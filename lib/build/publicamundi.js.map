{"version":3,"file":"publicamundi.js","sources":["publicamundi-src.js"],"names":["window","$","PublicaMundi","__namespace","_relativePath","_defaultLib","_scripts","_loadingScript","LayerType","WMS","WFS","TILE","GeoJSON","KML","GPX","CSV","WCS","WCPS","version","define","namespace","parts","split","current","index","length","slice","join","_extend","target","source","property","hasOwnProperty","undefined","Class","parent","initialize","this","apply","arguments","prototype","_initialize","i","len","constructor","_resolvers","registerFrameworkResolver","name","resolver","console","log","resolveFramework","isDefined","arg","isFunction","isObject","isClass","isArray","Array","Object","toString","call","getQueryStringParameters","url","parameters","replace","RegExp","$0","$1","$2","$3","locator","_dependencies","_factories","register","type","factory","indexOf","push","unregister","splice","resolve","create","options","Factory","registry","_LayerTypeRegistry","registerLayerType","registration","layer","framework","resolveLayerType","createLayer","getFactories","map","m","_PM","PM","noConflict","jQuery","last","attr","substring","lastIndexOf","data","ready","method","rel","href","appendTo","loader","shift","ajax","dataType","success","cache","Map","_map","_layers","projection","center","zoom","getMap","setCenter","getCenter","setZoom","getZoom","getProjection","getTarget","suffixes","some","item","factories","r","setMap","addLayer","configure","onLoad","getJSON","layers","l","Layer","_type","_layer","_options","getType","getLayer","getOptions"],"mappings":";;CACA,SAAWA,EAAQC,GACf,YAGA,IAAIC,IACAC,YAAa,gBAIbC,EAAgB,KAGhBC,EAAc,KAGdC,KACAC,EAAiB,IAGrBL,GAAaM,WACTC,IAAK,MACLC,IAAK,MACLC,KAAM,OACNC,QAAS,UACTC,IAAK,MACLC,IAAK,MACLC,IAAK,MACLC,IAAK,MACLC,KAAM,QAIVf,EAAagB,QAAU,QAGvBhB,EAAaiB,OAAS,SAAUC,GAC5B,GAAKA,EAGL,IAAK,GAFDC,GAAQD,EAAUE,MAAM,KAEnBC,EAAUvB,EAAQwB,EAAQ,EAAGA,EAAQH,EAAMI,OAAQD,IACnDH,EAAMG,KAG0B,mBAA1BD,GAAQF,EAAMG,MACrBD,EAAQF,EAAMG,KACVrB,YAAakB,EAAMK,MAAM,EAAGF,EAAQ,GAAGG,KAAK,OAGpDJ,EAAUA,EAAQF,EAAMG,KAIhC,IAAII,GAAU,SAAUC,EAAQC,GAC5B,GAAIA,EACA,IAAK,GAAIC,KAAYD,GACZA,EAAOE,eAAeD,IAAoCE,SAArBH,EAAOC,KAC7CF,EAAOE,GAAYD,EAAOC,GAKtC,OAAOF,GAkBX3B,GAAagC,MAAQ,WAqBjB,IAAK,GALDC,GAAQC,EATRF,EAAQ,WACuB,kBAApBG,MAAKD,YACZC,KAAKD,WAAWE,MAAMD,KAAME,YAKhCC,KAIAC,EAAc,aAGTC,EAAI,EAAGC,EAAMJ,UAAUd,OAAYkB,EAAJD,IAAWA,EAEnB,kBAAjBH,WAAUG,IAIP,IAANA,GAAWC,EAAM,IAIjBP,EAAaG,UAAUG,GAAGF,UAAUJ,WAGpCG,UAAUG,GAAGF,UAAUJ,WAAaK,IAGpCD,EAAY,GAAID,WAAUG,GAC1BF,EAAUI,YAAcV,EAELD,SAAfG,QACOG,WAAUG,GAAGF,UAAUJ,WAE9BG,UAAUG,GAAGF,UAAUJ,WAAaA,GAI5CD,EAASI,UAAUG,GAAGF,WAGtBL,EAASI,UAAUG,GAIvBd,EAAQY,EAAWL,EAOvB,OAHAD,GAAMM,UAAYA,EAClBN,EAAMM,UAAUI,YAAcV,EAEvBA,EAKX,IAAIW,KAEJ3C,GAAa4C,0BAA4B,SAAUC,EAAMC,GACrD,MAAIH,GAAWb,eAAee,IAC1BE,QAAQC,IAAI,0BAA4BH,EAAO,yBACxC,IAGXF,EAAWE,GAAQC,GAEZ,IAGX9C,EAAaiD,iBAAmB,WAC5B,IAAK,GAAIJ,KAAQF,GACb,GAAIA,EAAWE,KACX,MAAOA,EAGf,OAAO,OAIX7C,EAAakD,UAAY,SAAUC,GAC/B,MAAuB,mBAARA,IAGnBnD,EAAaoD,WAAa,SAAUD,GAChC,MAAuB,kBAARA,IAGnBnD,EAAaqD,SAAW,SAAUF,GAC9B,MAAuB,gBAARA,IAGnBnD,EAAasD,QAAU,SAAUH,GAE7B,IAAK,GADDhC,GAAQgC,EAAI/B,MAAM,KACbC,EAAUvB,EAAQwB,EAAQ,EAAGA,EAAQH,EAAMI,OAAQD,IAAS,CACjE,IAAMH,EAAMG,IAA6C,mBAA1BD,GAAQF,EAAMG,IACzC,OAAO,CAEX,IAAKA,IAAUH,EAAMI,OAAS,GAAwC,kBAA1BF,GAAQF,EAAMG,IACtD,OAAO,CAEXD,GAAUA,EAAQF,EAAMG,IAG5B,OAAO,GAGXtB,EAAauD,QAAU,SAAUJ,GAC7B,MAAKK,OAAMD,QAGJC,MAAMD,QAAQJ,GAF8B,mBAAxCM,OAAOnB,UAAUoB,SAASC,KAAKR,IAK9CnD,EAAa4D,yBAA2B,SAAUC,GAC9C,GAAIC,KAMJ,OALAD,GAAIE,QACA,GAAIC,QAAO,wBAAyB,KACpC,SAAUC,EAAIC,EAAIC,EAAIC,GAAMN,EAAWI,GAAME,IAG1CN,GAKX9D,EAAaqE,SACTC,iBACAC,cACAC,SAAU,SAAUC,EAAMC,GACtB,GAAIpD,GAAQa,KAAKmC,cAAcK,QAAQF,EAQvC,OAPY,GAARnD,GACAa,KAAKmC,cAAcM,KAAKH,GACxBtC,KAAKoC,WAAWK,KAAKF,IAErBvC,KAAKoC,WAAWjD,GAASoD,EAGtBA,GAEXG,WAAY,SAAUJ,GAClB,GAAInD,GAAQa,KAAKmC,cAAcK,QAAQF,EACnCnD,IAAS,IACTa,KAAKmC,cAAcQ,OAAOxD,EAAO,GACjCa,KAAKoC,WAAWO,OAAOxD,EAAO,KAGtCyD,QAAS,SAAUN,GACf,GAAInD,GAAQa,KAAKmC,cAAcK,QAAQF,EACvC,OAAY,GAARnD,EACO,KAEJa,KAAKoC,WAAWjD,IAE3B0D,OAAQ,SAAUP,EAAMQ,GACpB,GAAIC,GAAU/C,KAAK4C,QAAQN,EAC3B,OAAIS,GACO,GAAIA,GAAQD,GAEhB,OAqBfjF,EAAamF,UACTC,sBACAC,kBAAmB,SAAUJ,GAGzB,IAAK,GAFDK,GAAe,KAEVhE,EAAQ,EAAGA,EAAQa,KAAKiD,mBAAmB7D,OAAQD,IACxD,GAAKa,KAAKiD,mBAAmB9D,GAAOiE,QAAUN,EAAQM,OAClDpD,KAAKiD,mBAAmB9D,GAAOkE,YAAcP,EAAQO,UAAY,CACjEF,EAAenD,KAAKiD,mBAAmB9D,EACvC,OAGJgE,EACAA,EAAab,KAAOQ,EAAQR,MAE5Ba,GACIC,MAAON,EAAQM,MACfC,UAAWP,EAAQO,UACnBf,KAAMQ,EAAQR,MAElBtC,KAAKiD,mBAAmBR,KAAKU,IAEjCtF,EAAaqE,QAAQG,SAASS,EAAQR,KAAMQ,EAAQP,UAExDe,iBAAkB,SAAUF,GAMxB,IAAK,GALDD,GAAe,KAGfE,EAAYxF,EAAaiD,mBAEpB3B,EAAQ,EAAGA,EAAQa,KAAKiD,mBAAmB7D,OAAQD,IACxD,GAAKa,KAAKiD,mBAAmB9D,GAAOiE,QAAUA,GAC1CpD,KAAKiD,mBAAmB9D,GAAOkE,YAAcA,EAAY,CACzDF,EAAenD,KAAKiD,mBAAmB9D,EACvC,OAIR,MAAIgE,GACOA,EAAab,KAEjB,MAEXiB,YAAa,SAAUT,GAEnB,GAAIR,GAAOtC,KAAKsD,iBAAiBR,EAAQR,KAEzC,OAAIA,GACOzE,EAAaqE,QAAQW,OAAOP,EAAMQ,GAEtC,MAEXU,aAAc,WACV,MAAOxD,MAAKiD,mBAAmBQ,IAAI,SAAUC,GACzC,MAAO7F,GAAaqE,QAAQU,QAAQc,EAAEpB,UAMlDzE,EAAa8F,IAAMhG,EAAOiG,GAE1B/F,EAAagG,WAAa,WAQtB,MAPIlG,GAAOiG,KAAO/F,IACU,mBAAbmC,MAAK2D,IACZhG,EAAOiG,GAAK5D,KAAK2D,UAEVhG,GAAOiG,IAGf5D,MAKXjC,EAAgB+F,OAAO,UAAUC,OAAOC,KAAK,OAC7CjG,EAAgBA,EAAckG,UAAU,EAAGlG,EAAcmG,YAAY,KAAO,GAG5ElG,EAAc8F,OAAO,UAAUC,OAAOI,KAAK,WACtCnG,IACDA,EAAc,MAIlBH,EAAauG,MAAQ,SAAUC,GAC3B,IAAKxG,EAAaoD,WAAWoD,GAEzB,WADAzD,SAAQC,IAAI,0CAkBhB,IAbKhD,EAAaiD,qBACdF,QAAQC,IAAI,sBAEZjD,EAAE,WACE0G,IAAK,aACLhC,KAAM,WACNiC,KAAMxG,EAAgB,OAASC,EAAc,IAAMA,EAAc,SAClEwG,SAAS,QAEZvG,EAASwE,KAAK1E,EAAgB,OAASC,EAAc,IAAMA,EAAc,OACzEC,EAASwE,KAAK1E,EAAgB,gBAAkBC,EAAc,QAG1C,IAApBC,EAASmB,OACTiF,QACG,CACH,GAAII,GAAS,WACLvG,IACA0C,QAAQC,IAAI,IAAM3C,EAAiB,sBACnCA,EAAiB,MAEjBD,EAASmB,OAAS,GAClBlB,EAAiBD,EAAS,GAC1BA,EAASyG,QACT9G,EAAE+G,MACEjD,IAAKxD,EACL0G,SAAU,SACVC,QAASJ,EACTK,OAAO,KAGXT,IAGRI,OAIR9G,EAAOE,aAAeF,EAAOiG,GAAK/F,GACnCF,OAAQmG,QAAS,SAAWnG,EAAQE,GACnC,YAE4B,oBAAjBA,KAIXA,EAAakH,IAAMlH,EAAagC,OAC5BE,WAAY,SAAU+C,GAClB9C,KAAKgF,KAAO,KACZhF,KAAKiF,WAELnC,EAAUA,MACVA,EAAQtD,OAAU3B,EAAakD,UAAU+B,EAAQtD,QAAUsD,EAAQtD,OAAS,KAC5EsD,EAAQoC,WAAcrH,EAAakD,UAAU+B,EAAQoC,YAAcpC,EAAQoC,WAAa,YACxFpC,EAAQqC,OAAUtH,EAAakD,UAAU+B,EAAQqC,QAAUrC,EAAQqC,QAAU,EAAG,GAChFrC,EAAQsC,KAAQvH,EAAakD,UAAU+B,EAAQsC,MAAQtC,EAAQsC,KAAO,GAE1EC,OAAQ,WACJ,MAAOrF,MAAKgF,MAEhBM,UAAW,WACP,MAAOtF,OAEXuF,UAAW,WACP,MAAO,OAEXC,QAAS,WACL,MAAOxF,OAEXyF,QAAS,WACL,MAAO,OAEXC,cAAe,WACX,MAAO,OAEXC,UAAW,WACP,MAAO,OAEXpC,YAAa,SAAUT,GACnB,GAAIM,GAAQ,IAEZ,cAAeN,IACX,IAAK,SAED,GAAI8C,IAAY,QAAS,WACrBA,GAASC,KAAK,SAAUC,GAAQ,MAAOhD,GAAQN,QAAQsD,EAAMhD,EAAQ1D,OAAS0G,EAAK1G,WACnFY,KAAKuD,aACDjB,KAAMzE,EAAaM,UAAUI,QAC7BmD,IAAKoB,EACLoC,WAAalF,KAAK0F,iBAG1B,MACJ,KAAK,SAED,IAAK,GADDK,GAAYlI,EAAamF,SAASQ,eAC7BwC,EAAI,EAAGA,EAAID,EAAU3G,OAAQ4G,IAClC,GAAIlD,YAAmBiD,GAAUC,GAAI,CACjC5C,EAAQN,CACR,OAGHM,IACIvF,EAAakD,UAAU+B,EAAQoC,cAChCpC,EAAQoC,WAAalF,KAAK0F,iBAE9BtC,EAAQvF,EAAamF,SAASO,YAAYT,GAC1CM,EAAM6C,OAAOjG,OAEboD,EACApD,KAAKkG,SAAS9C,GAEdxC,QAAQC,IAAI,iBAAmBiC,EAAQR,KAAO,sBAS1D,MAJIc,IACApD,KAAKiF,QAAQxC,KAAKW,GAGfA,GAEX8C,SAAU,eAKdrI,EAAaqE,QAAQG,SAAS,mBAAoBxE,EAAakH,KAG/DlH,EAAa4F,IAAM,SAAUX,GACzB,MAAOjF,GAAaqE,QAAQW,OAAO,mBAAoBC,IAI3DjF,EAAasI,UAAY,SAAU3G,EAAQkC,EAAK0E,GAC5C,GAAIpB,GAAqCnH,EAAa4F,IAAxB,gBAAXjE,IAAyCA,OAAQA,GAA6BA,EAmBjG,OAjBAsE,QAAOuC,QAAQ3E,EAAK,SAAUyC,GAO1B,GANIA,EAAKgB,QACLH,EAAKM,UAAUnB,EAAKgB,QAEpBhB,EAAKiB,MACLJ,EAAKQ,QAAQrB,EAAKiB,MAElBvH,EAAauD,QAAQ+C,EAAKmC,QAC1B,IAAK,GAAIC,GAAI,EAAGA,EAAIpC,EAAKmC,OAAOlH,OAAQmH,IACpCvB,EAAKkB,SAAS/B,EAAKmC,OAAOC,GAG9B1I,GAAaoD,WAAWmF,IACxBA,EAAO5E,KAAKxB,KAAMmE,KAInBa,KAGZrH,OAAQA,OAAOE,cAAe,SAAWF,EAAQE,GACpB,mBAAjBA,KAIXA,EAAaiB,OAAO,gBAEpBjB,EAAa2I,MAAQ3I,EAAagC,OAC9BE,WAAY,SAAU+C,GAElB9C,KAAKgF,KAAO,KACZhF,KAAKyG,MAAQ,KACbzG,KAAK0G,OAAS,KACd1G,KAAK2G,SAAW7D,OAEpBmD,OAAQ,SAASxC,GACbzD,KAAKgF,KAAOvB,GAEhBmD,QAAS,WACL,MAAO5G,MAAKyG,OAEhBI,SAAU,WACN,MAAO7G,MAAK0G,QAEhBI,WAAY,WACR,MAAO9G,MAAK2G,YAIpB9I,EAAaqE,QAAQG,SAAS,qBAAsBxE,EAAa2I,SAClE7I,OAAQE"}
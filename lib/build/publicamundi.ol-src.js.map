{"version":3,"sources":["..\\src\\lib\\ol\\PublicaMundi.OpenLayers.js","..\\src\\lib\\ol\\Map.js","..\\src\\lib\\ol\\Layer.WMS.js","..\\src\\lib\\ol\\Layer.Tile.js","..\\src\\lib\\ol\\Layer.GeoJson.js"],"names":[],"mappings":"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","file":"publicamundi.ol-src.js","sourcesContent":["(function (window, PublicaMundi) {\r\n\t\"use strict\";\r\n\r\n\tif (typeof PublicaMundi === 'undefined') {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tPublicaMundi.define('PublicaMundi.OpenLayers');\r\n\r\n\tPublicaMundi.OpenLayers.Framework = 'ol';\r\n\r\n\tPublicaMundi.registerFrameworkResolver(PublicaMundi.OpenLayers.Framework, function () {\r\n\t    if ((PublicaMundi.isObject(ol)) && (PublicaMundi.isFunction(ol.Map))) {\r\n\t        return true;\r\n\t    }\r\n\t    return false;\r\n\t});\r\n\r\n\r\n})(window, PublicaMundi);","(function (window, PublicaMundi, ol) {\r\n    if (typeof PublicaMundi === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof ol === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    PublicaMundi.define('PublicaMundi.OpenLayers');\r\n\r\n    PublicaMundi.OpenLayers.Map = PublicaMundi.Class(PublicaMundi.Map, {\r\n        initialize: function (options) {\r\n            PublicaMundi.Map.prototype.initialize.call(this, options);\r\n\r\n            if ((PublicaMundi.isClass('ol.Map')) && (options instanceof ol.Map)) {\r\n                this._map = options;\r\n            } else {\r\n                this._map = new ol.Map({\r\n                    target: options.target,\r\n                    view: new ol.View2D({\r\n                        projection: options.projection,\r\n                        center: options.center,\r\n                        zoom: options.zoom\r\n                    }),\r\n                    controls: ol.control.defaults().extend([\r\n                    ]),\r\n                    ol3Logo: false\r\n                });\r\n            }\r\n\r\n            this._clickHandlerMap = null;\r\n            this._clickHandlerLayer = [];\r\n            this._clickHandlerRegisteredLayers = [];\r\n\r\n            if ((typeof options.layers !== 'undefined') && (PublicaMundi.isArray(options.layers))) {\r\n                for (var index = 0; index < options.layers.length; index++) {\r\n                    this.createLayer(options.layers[index]);\r\n\r\n                }\r\n            }\r\n        },\r\n        setCenter: function (x, y) {\r\n            if (PublicaMundi.isArray(x)) {\r\n                this._map.getView().setCenter(x);\r\n            } else {\r\n                this._map.getView().setCenter([x, y]);\r\n            }\r\n        },\r\n        getCenter: function () {\r\n            return this._map.getView().getCenter();\r\n        },\r\n        setZoom: function (z) {\r\n            this._map.getView().setZoom(z);\r\n        },\r\n        getZoom: function () {\r\n            return this._map.getView().getZoom();\r\n        },\r\n        getProjection: function () {\r\n            return this._map.getView().getProjection().getCode();\r\n        },\r\n        getTarget: function () {\r\n            return this._map.getTarget();\r\n        },\r\n        addLayer: function (layer) {\r\n            this._map.addLayer(layer.getLayer());\r\n\r\n            if (PublicaMundi.isFunction(layer.getOptions().click)) {\r\n                this._clickHandlerRegisteredLayers.push(layer);\r\n                this._clickHandlerLayer.push(layer.getOptions().click);\r\n\r\n                if (!PublicaMundi.isFunction(this._clickHandlerMap)) {\r\n                    var layers = this._clickHandlerRegisteredLayers;\r\n                    var handlers = this._clickHandlerLayer;\r\n\r\n                    this._clickHandlerMap = function (e) {\r\n                        var pixel = this._map.getEventPixel(e.originalEvent);\r\n\r\n                        var features = [];\r\n\r\n                        var processFeature = function (feature, layer) {\r\n                            if ((layer === layers[l].getLayer()) && (layer.get(\"visible\") === true)) {\r\n                                var properties = {};\r\n                                var keys = feature.getKeys();\r\n                                var geometryName = feature.getGeometryName();\r\n                                for (var i = 0; i < keys.length; i++) {\r\n                                    if (keys[i] !== geometryName) {\r\n                                        properties[keys[i]] = feature.get(keys[i]);\r\n                                    }\r\n                                }\r\n                                features.push(properties);\r\n                            }\r\n                        };\r\n\r\n                        for (var l = 0; l < layers.length; l++) {\r\n                            features = [];\r\n\r\n                            this._map.forEachFeatureAtPixel(pixel, processFeature);\r\n\r\n                            if (features.length > 0) {\r\n                                handlers[l](features);\r\n                            }\r\n                        }\r\n                    };\r\n\r\n                    // Register only once\r\n                    this._map.on('singleclick', this._clickHandlerMap, this);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    PublicaMundi.locator.register('PublicaMundi.Map', PublicaMundi.OpenLayers.Map);\r\n})(window, window.PublicaMundi, ol);","/// <reference path=\"../../../OpenLayers/build/ol-whitespace.js\" />\r\n/// <reference path=\"../../PublicaMundi.js\" />\r\n/// <reference path=\"../../Layer.js\" />\r\n(function (window, PublicaMundi, ol) {\r\n    if (typeof PublicaMundi === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof ol === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    PublicaMundi.define('PublicaMundi.OpenLayers.Layer');\r\n\r\n    PublicaMundi.OpenLayers.Layer.WMS = PublicaMundi.Class(PublicaMundi.Layer, {\r\n        initialize: function (options) {\r\n            PublicaMundi.Layer.prototype.initialize.call(this, options);\r\n\r\n            this._map = null;\r\n            this._type = null;\r\n            this._layer = new ol.layer.Tile({\r\n                title: options.title,\r\n                source: new ol.source.TileWMS({\r\n                    url: options.url,\r\n                    params: options.params\r\n                })\r\n            });\r\n        }\r\n    });\r\n\r\n    PublicaMundi.registry.registerLayerType({\r\n        layer: PublicaMundi.LayerType.WMS,\r\n        framework: PublicaMundi.OpenLayers.Framework,\r\n        type: 'PublicaMundi.Layer.WMS',\r\n        factory: PublicaMundi.OpenLayers.Layer.WMS\r\n    });\r\n})(window, window.PublicaMundi, ol);","(function (global, PublicaMundi, ol) {\r\n    if (typeof PublicaMundi === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof ol === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    PublicaMundi.define('PublicaMundi.OpenLayers.Layer');\r\n\r\n    PublicaMundi.OpenLayers.Layer.Tile = PublicaMundi.Class(PublicaMundi.Layer, {\r\n        initialize: function (options) {\r\n            PublicaMundi.Layer.prototype.initialize.call(this, options);\r\n\r\n            this._layer = new ol.layer.Tile({\r\n                title: options.title,\r\n                source: new ol.source.XYZ({\r\n                    url: options.url\r\n                })\r\n            });\r\n            var urls = [];\r\n            if (options.url.indexOf('{s}') < 0) {\r\n                urls.push(options.url);\r\n            } else {\r\n                var subdomains = options.subdomains || 'abc';\r\n\r\n                if (!PublicaMundi.isArray(subdomains)) {\r\n                    subdomains = subdomains.split('');\r\n                }\r\n                for (var index = 0; index < subdomains.length; index++) {\r\n                    urls.push(options.url.replace('{s}', subdomains[index]));\r\n                }\r\n            }\r\n            this._layer.getSource().setUrls(urls);\r\n        }\r\n    });\r\n\r\n    PublicaMundi.registry.registerLayerType({\r\n        layer: PublicaMundi.LayerType.TILE,\r\n        framework: PublicaMundi.OpenLayers.Framework,\r\n        type: 'PublicaMundi.Layer.Tile',\r\n        factory: PublicaMundi.OpenLayers.Layer.Tile\r\n    });\r\n})(window, window.PublicaMundi, ol);","(function (global, PublicaMundi, ol) {\r\n    if (typeof PublicaMundi === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof ol === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    PublicaMundi.define('PublicaMundi.OpenLayers.Layer');\r\n\r\n    PublicaMundi.OpenLayers.Layer.GeoJson = PublicaMundi.Class(PublicaMundi.Layer, {\r\n        initialize: function (options) {\r\n            PublicaMundi.Layer.prototype.initialize.call(this, options);\r\n\r\n            this._layer = new ol.layer.Vector({\r\n                title: options.title,\r\n                source: new ol.source.GeoJSON({\r\n                    projection: options.projection,\r\n                    url: options.url\r\n                })\r\n            });\r\n        }\r\n    });\r\n\r\n    PublicaMundi.registry.registerLayerType({\r\n        layer: PublicaMundi.LayerType.GeoJSON,\r\n        framework: PublicaMundi.OpenLayers.Framework,\r\n        type: 'PublicaMundi.Layer.GeoJson',\r\n        factory: PublicaMundi.OpenLayers.Layer.GeoJson\r\n    });\r\n\r\n    // Add utility methods\r\n    if (PublicaMundi.isDefined(PublicaMundi.Map)) {\r\n        PublicaMundi.Map.prototype.geoJSON = function (options) {\r\n            options.type = options.type || PublicaMundi.LayerType.GeoJSON;\r\n\r\n            this.createLayer(options);\r\n        };\r\n    }\r\n})(window, window.PublicaMundi, ol);"]}
{"version":3,"file":"publicamundi.js","sources":["publicamundi-src.js"],"names":["window","$","PublicaMundi","__namespace","_relativePath","_defaultLib","_scripts","_loadingScript","LayerType","WMS","WFS","TILE","GeoJSON","KML","GML","GPX","CSV","WCS","WCPS","version","define","namespace","parts","split","current","index","length","slice","join","_extend","target","source","property","hasOwnProperty","undefined","Class","parent","initialize","this","apply","arguments","prototype","_initialize","i","len","constructor","_resolvers","registerFrameworkResolver","name","resolver","console","log","resolveFramework","isDefined","arg","isFunction","isObject","isClass","isArray","Array","Object","toString","call","getQueryStringParameters","url","parameters","replace","RegExp","$0","$1","$2","$3","locator","_dependencies","_factories","register","type","factory","indexOf","push","unregister","splice","resolve","create","options","Factory","registry","_LayerTypeRegistry","registerLayerType","registration","layer","framework","resolveLayerType","createLayer","getFactories","map","m","_PM","PM","noConflict","jQuery","last","attr","substring","lastIndexOf","data","ready","method","rel","href","appendTo","loader","shift","ajax","dataType","success","cache","Map","_map","_layers","_control","_viewbox","projection","center","zoom","setExtent","_setViewBox","_getViewBox","setLayerControl","getLayerControl","getMap","setCenter","getCenter","setZoom","getZoom","getProjection","getTarget","getLayers","_listen","suffixes","some","item","factories","r","setMap","addLayer","configure","onLoad","getJSON","layers","l","Layer","_type","_layer","_extent","bbox","_options","getType","getLayer","setLayerExtent","getOptions","addToControl","update"],"mappings":"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"}
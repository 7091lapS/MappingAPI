<!DOCTYPE html>
<html>
<head>
    <title>PublicaMundi - Leaflet</title>
    <link href="lib/Leaflet/leaflet.css" rel="stylesheet" />
    <style>
        body {
            padding: 0;
            margin: 0;
        }

        .map {
            width: 500px;
            height: 350px;
            margin-left: auto;
            margin-right: auto;
        }
    </style>

    <script src="lib/jQuery/jquery-2.1.0.js"></script>

    <script src="lib/Leaflet/leaflet-src.js"></script>

    <script src="lib/PublicaMundi/PublicaMundi.js"></script>
    <script src="lib/PublicaMundi/map/Map.js"></script>
    <script src="lib/PublicaMundi/map/leaflet/Map.js"></script>
    <script src="lib/PublicaMundi/layer/leaflet/Layer.Tile.js"></script>
    <script src="lib/PublicaMundi/layer/leaflet/Layer.WMS.js"></script>
    <script src="lib/PublicaMundi/layer/leaflet/Layer.GeoJson.js"></script>
</head>
<body>
    <div id="map" class="map"></div>
</body>
<script>
    PublicaMundi.noConflict();

    var onFeatureClick = function (features) {
        alert(JSON.stringify(features));
    };

    var options = {
        target: 'map',
        center: [-10939408.106956497, 4561776.910611016],
        zoom: 3,
        layers: [{
            title: 'Open Street Maps',
            type: PublicaMundi.LayerType.TILE,
            url: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'
        }, {
            title: 'Crops',
            type: PublicaMundi.LayerType.WMS,
            url: 'http://webservices.nationalatlas.gov/wms/agriculture',
            params: { 'LAYERS': 'crop_1' }
        }]
    };

    var map = PublicaMundi.map(options);

    map.addLayer({
        type: PublicaMundi.LayerType.GeoJSON,
        title: 'Countries',
        url: 'data/geojson/countries.geojson',
        click: onFeatureClick
    });

    map.geoJSON({
        title: 'Earthquakes',
        url: 'data/geojson/earthquakes.json',
        click: onFeatureClick
    });
</script>
</html>

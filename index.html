<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style>
        body {
            padding: 0;
            margin: 0;
        }

        .map {
            width: 500px;
            height: 350px;
            margin-left: auto;
            margin-right: auto;
        }

        .ol-attribution ul, .ol-attribution a, .ol-attribution a:not([ie8andbelow]) {
            color: black !important;
        }
    </style>
    <script src="lib/jQuery/jquery-2.1.0.min.js"></script>
    <!--<link href="lib/build/lib/ol/ol.css" rel="stylesheet" />-->
    <!--<script src="lib/build/lib/ol/ol.js"></script>-->
    <script src="lib/build/publicamundi.js" data-library=""></script>
    <!--<script src="lib/build/publicamundi.ol.js"></script>-->
    <script>

        //var A = PublicaMundi.Class({
        //    initialize: function (message) {
        //        console.log('Class A initializing ...');
        //        this._message = message;
        //    },
        //    print: function () {
        //        console.log(this._message);
        //        return false;
        //    }
        //});

        //a = new A('Message A');
        //a.print();

        //console.log('a is of type A :' + (a instanceof A));

        //var B = PublicaMundi.Class(A, {
        //    initialize: function (message) {
        //        A.prototype.initialize(message);

        //        console.log('Class B initializing ...');
        //    }
        //});

        //b = new B('Message B');
        //b.print();

        //console.log('b is of type A :' + (b instanceof A));
        //console.log('b is of type B :' + (b instanceof B));
    </script>
</head>
<body>
    <div id="map" class="map"></div>
</body>
<script>
    PublicaMundi.noConflict();

    var onFeatureClick = function (features) {
        if ((features) && (features.length > 0)) {
            var content = '';
            for (var i = 0; i < features.length; i++) {
                content += JSON.stringify(features[i]) + '\n\n';
            }
            alert(content);
        }
    };

    var options = {
        target: 'map',
        center: [-10939408.106956497, 4561776.910611016],
        zoom: 3,
        layers: [
        {
            title: 'Open Street Maps',
            type: PublicaMundi.LayerType.TILE,
            url: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'
        }, {
            title: 'Crops',
            type: PublicaMundi.LayerType.WMS,
            url: 'http://webservices.nationalatlas.gov/wms/agriculture',
            params: { 'LAYERS': 'crop_1' }
        }]
    };

    PublicaMundi.ready(function () {
        var map = PublicaMundi.map(options);


        map.createLayer({
            type: PublicaMundi.LayerType.GeoJSON,
            title: 'Countries',
            url: 'data/geojson/countries.geojson',
            click: onFeatureClick
        });

        map.geoJSON({
            title: 'Earthquakes',
            url: 'data/geojson/earthquakes.json',
            click: onFeatureClick
        });
    });
</script>
</html>
